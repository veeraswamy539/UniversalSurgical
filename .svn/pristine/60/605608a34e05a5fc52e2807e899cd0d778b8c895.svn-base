@using Universal.BusinessEntities;
@model Employees
@Scripts.Render("~/bundles/jqueryval")
<script src="../../Scripts/js/tabs_accordian.js" type="text/javascript"></script>
<style type="text/css">
    .prf-basic
    {
        background-color: #FFF;
        min-height: 190px;
        border-bottom: solid 1px #e5e5e5;
    }
    .usr-prf-pic
    {
        padding-left: 9px;
        padding-top: 8px;
        border: #e5e5e5 solid 1px;
        float: left;
        margin-top: 18px;
        width: 165px;
        height: 155px;
        overflow: hidden;
        margin-left: 18px;
    }
    
    
    .empl-dtls-viw
    {
        font-family: "Open Sans" , "Open Sans Extrabold" , "Open Sans Light" , "Open Sans Semibold" , Verdana, Tahoma;
        font-size: 13px;
        line-height: 26px;
        margin-left: 20px;
    }
    
    
    .usr-prf-dtls
    {
        font-family: "Open Sans";
        font-size: 13px;
        font-weight: 600;
        color: #6d6d6d;
        line-height: 22px;
        margin-top: 40px;
        margin-left: 25px;
        float: left;
    }
</style>
<div class="clearfix">
</div>
<div class="col-lg-12  search-strip src-nn">
    @if (@ViewBag.Profile == "yes")
    {


    }
    else if (@ViewBag.Profile == "ug")
    {
        <div class="col-lg-3 pull-right ">
            <a href="@Url.Action("UserGroupsList", "Admin")" class="md-trigger update frm-src-fld update"  data-modal="modal-16">
                <i class="fa fa-arrow-left"></i>  User Groups List</a>
        </div>
    }
    else
    {
        <div class="col-lg-3 pull-right ">
            <a href="@Url.Action("EmployeeList", "Shared")" class="md-trigger update frm-src-fld update"  data-modal="modal-16">
                <i class="fa fa-arrow-left"></i>Employees List</a>
        </div>
    }
</div>
<div class="content-cont col-lg-12 col-md-12 no-padding  mrg-nn">
    <div class=" container-fluid emp-exd-frm margin-20 ">
        <div class="prf-basic">
            <div class="usr-prf-pic">
                @if (Model.ProfilePicturePath != null && Model.ProfilePicturePath != "")
                {
                    <img src="~/Content/ProfileImg/@Model.ProfilePicturePath" style="width:145px;"  alt ="img" />
                }
                else
                {
                    <img src="../../Content/Images/prf-no-img.png" style="width: 145px;" alt="img" />
                }
            </div>
            <div class="usr-prf-dtls">
                <span>Name</span> : <span>@Model.FirstName @Model.MiddleName @Model.LastName</span><br />
                <span>EMP ID</span> : <span>@Model.Employee_ID</span><br />
                <span>Designation </span>: <span>@Model.Role </span>
                <br />
                <span>Status </span>: <span>@Model.Position </span>
                <br />
            </div>
        </div>
        <div class="clearfix">
        </div>
    </div>
</div>
<div class="clearfix">
</div>
<div class="row margin-20 prf-nav-tab">
    <div class=" col-lg-12 col-md-12 no-padding">
        <ul class="nav nav-tabs" id="tab-01">
            <li class="active"><a href="#Personal">Personal Details</a></li>
            <li><a href="#Professional">Professional Details</a></li>
            <li><a href="#Contact">Contact Details</a></li>
            <li><a href="#Bank">Bank Details</a></li>
        </ul>
        <div class="tools">
            <a href="javascript:;" class="collapse"></a><a href="#grid-config" data-toggle="modal"
                class="config"></a><a href="javascript:;" class="reload"></a><a href="javascript:;"
                    class="remove"></a>
        </div>
        <div class="tab-content">
            <div class="tab-pane active" id="Personal">
                <div class="empl-dtls-viw">
                    <span>Father's Name</span> : <span>@Model.FathersName</span><br />
                    <span>Mother's Name</span> : <span>@Model.MothersName</span><br />
                    <span>Date of Birth </span>: <span id="dtdob">@Model.DOB</span><br />
                    <span>Gender </span>: <span>@Model.Gender </span>
                    <br />
                    <span>Blood Group </span>: <span>@Model.BloodGroup </span>
                    <br />
                    <span>Marital Status </span>: <span>@Model.MaritalStatus</span>
                    <br />
                    <span>NOK </span>: <span>@Model.NOK</span>
                </div>
            </div>
            <div class="tab-pane" id="Professional">
                <div class="empl-dtls-viw col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="col-lg-4">
                        <span>SAP BusinessId </span>: <span>@Model.SAPBussinessId</span><br />
                        <span>Zone Name</span> : <span>@Model.ZoneName</span><br />
                        <span>Manager Name</span> : <span>@Model.ManagerName</span><br />
                        <span>Manager Email Id </span>: <span>@Model.ManagerEmailID</span><br />
                        <span>Account Manager Name</span> : <span>@Model.AccountManagerName</span><br />
                        <span>Date of Joining</span>: <span id="dtdoj">@Model.DOJ </span>
                        <br />
                        <span>Account Manager Email Id </span>: <span>@Model.AccountManagerEmailID</span><br />
                    </div>
                    <div class="col-lg-4">
                        <span>PAN</span>: <span>@Model.PANNo </span>
                        <br />
                        <span>Aadhar</span>: <span>@Model.AadharNo
                        </span>
                        <br />
                        <span>Driving Licence</span>: <span>@Model.DrivingLicenceNo </span>
                        <br />
                        <span>Driving Licence Expiry Date</span>: <span id="dtdriving">@Model.DrivingLicenceExpiryDate
                        </span>
                        <br />
                        <span>Passport Number </span>: <span>@Model.PassportNumber </span>
                        <br />
                        <span>Passport Validate Date </span>: <span id="dtpassport">@Model.PassportValidateDate
                        </span>
                    </div>
                    <div class="col-lg-4">
                        <span>Vehicle Type</span>: <span>@Model.VehicleType </span>
                        <br />
                        <span>Conveyance</span>: <span>@Model.Conveyance </span>
                        <br />
                        <span>Lumpsum Amount</span>: <span>@Model.LumpsumAmount </span>
                        <br />
                        <span>Number of Leaves</span>: <span>@Model.NoOfLeaves </span>
                        <br />
                        @if (Session["Employee"] == null)
                        {
                            if (@Model.Status==false)
                            {
                            <span>Company Left Date</span>@: : <span class="dtleft">@Model.CompanyLeftDate </span>
                                                       <br />
                            <span>Reason for Leaving</span>@: : <span>@Model.LeavingReason </span>
                                                    }
                        }
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="Contact">
                <div class="empl-dtls-viw">
                    <span>Mobile Number </span>: <span>@Model.MobileNo </span>
                    <br />
                    <span>Emergency Contact Person's Name </span>: <span>@Model.EmergencyContactPerson
                    </span>
                    <br />
                    <span>Emergency Contact Person's Number </span>: <span>@Model.EmergencyContactNo
                    </span>
                    <br />
                    <span>Personal Email Id </span>: <span>@Model.PersonalEmailID </span>
                    <br />
                    <span>Company Email Id </span>: <span>@Model.CompanyMailID </span>
                    <br />
                    <span>Permanent Address </span>: <span>@Model.PermanentAddress </span>
                    <br />
                    <span>Permanent State </span>: <span>@Model.Statename </span>
                    <br />
                    <span>Permanent District </span>: <span>@Model.Cityname</span><br />
                    <span>Permanent City </span>: <span>@Model.PermanentCityname</span><br />
                    <span>Permanent Pincode </span>: <span>@Model.PermanentPincode</span><br />
                    <span>Current Address</span>: <span>@Model.TempAddress</span><br />
                    <span>Current State </span>: <span>@Model.TempState</span><br />
                    <span>Current District </span>: <span>@Model.TempCity</span><br />
                    <span>Current City </span>: <span>@Model.CurrentCityname</span><br />
                    <span>Current Pincode </span>: <span>@Model.TempPincode</span><br />
                    <br />
                </div>
            </div>
            <div class="tab-pane" id="Bank">
                <div class="empl-dtls-viw">
                    <span>PF Number</span> : <span>@Model.PFNo</span><br />
                    <span>UAN for PF</span> : <span>@Model.UANforPFNo</span><br />
                    <span>ESI Number </span>: <span>@Model.ESINo</span><br />
                    <span>Bank Account Number</span>: <span>@Model.BankAccountNo</span><br />
                    <span>Bank Name </span>: <span>@Model.BankName </span>
                    <br />
                    <span>IFSC Code</span>: <span>@Model.BankIFSCCode</span><br />
                    <span>Bank Address </span>: <span>@Model.BranchandLocation</span><br />
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">

    $(document).ready(function () {
        //        alert($("#dtleft").text().length);
        //  alert($("#dtdob").text());

        $(".update").click(function (e) {

            e.preventDefault();
            var redirecturl = $(this).attr('href');
            $("#AdminLoadingBg").fadeIn();
            $("#AdminLoadimg").show();
            $.ajax({
                url: redirecturl,
                contentType: 'application/html; charset=utf-8',
                type: 'GET',
                dataType: 'html'

            })
       .success(function (result) {
           $("#AdminLoadingBg").fadeOut();
           $("#AdminLoadimg").hide();
           $('#divPartial').show();
           $('#divPartial').html(result);
       })
       .error(function (xhr, status) {

       });
        });

    });

    if ($("#dtdob").text() != "") {

        if ($("#dtdob").text().length > 0) {
            var dob = $("#dtdob").text().split("-");

            var last = dob[2].split(" ")
            $("#dtdob").text(dob[0] + '/' + dob[1] + '/' + last[0]);
            // alert($("#dtdob").text());
        }
    }

    if ($("#dtdoj").text() != "") {
        if ($("#dtdoj").text().length > 0) {
            var dob = $("#dtdoj").text().split("-");

            var last = dob[2].split(" ")
            $("#dtdoj").text(dob[0] + '/' + dob[1] + '/' + last[0]);

        }
    }
    if ($("#dtdriving").text() != "") {
        if ($("#dtdriving").text().length > 0) {
            var dob = $("#dtdriving").text().split("-");

            var last = dob[2].split(" ")
            $("#dtdriving").text(dob[0] + '/' + dob[1] + '/' + last[0]);

        }
    }


    if ($("#dtpassport").text() != "") {
        if ($("#dtpassport").text().length > 0) {
            var dob = $("#dtpassport").text().split("-");

            var last = dob[2].split(" ")
            $("#dtpassport").text(dob[0] + '/' + dob[1] + '/' + last[0]);
        }
    }

    if ($("#dtleft").text() != "") {
        if ($("#dtleft").text().length > 0) {
            var dob = $("#dtleft").text().split("-");

            var last = dob[2].split(" ")
            $("#dtleft").text(dob[0] + '/' + dob[1] + '/' + last[0]);
        }
    }
</script>
